<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{/css/bootstrap/bootstrap.css}" rel="stylesheet" />
    <script th:src="@{/js/bootstrap/bootstrap.bundle.js}" type="text/javascript"></script>
    <style>
        .login-container {
            max-width: 50%;
            margin: auto;
        }
    </style>
</head>
<body>
<nav th:replace="~{layout::menu}"></nav>
<div class="container login-container">
    <br>
    <h2 class="text-center mb-4">CAMBIA TU PASSWORD</h2>
    <form th:action="@{/seguridad/change-password}" method="post" onsubmit="return validarPassword()">
        <div class="row mb-3">
            <label for="password" class="col-sm-3 col-form-label">NUEVO PASSWORD</label>
            <div class="col-sm-9">
                <input type="password" class="form-control" id="password" name="password">
            </div>
        </div>
        <div class="row mb-3">
            <label for="confirmPassword" class="col-sm-3 col-form-label">REPITA NUEVO PASSWORD</label>
            <div class="col-sm-9">
                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword">
            </div>
        </div>
        <br>
        <div class="row mb-3">
            <div class="col-sm-6 mx-auto">
                <button type="submit" class="btn btn-primary w-100">GUARDAR</button>
            </div>
        </div>
    </form>
</div>
<script>
    function validarPassword() {
        var password = document.getElementById("password").value;
        var confirmPassword = document.getElementById("confirmPassword").value;
        var regex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;

        if (!regex.test(password)) {
            alert("La contraseña no cumple con los requisitos.");
            return false;
        }

        if (password !== confirmPassword) {
            alert("Las contraseñas no coinciden.");
            return false;
        }

        return true;
    }
</script>
</body>
</html>
